<template>
	<FixedLayoutVue :scroll-top="scrollTop" :scroll-height="scrollHeight">
		<view class="home-warp">
		<view class="about">
		  <!-- é¡¶éƒ¨å¤§å›¾ -->
		  <ImageWithFallback
		    class="img swashIn"
		    src="/image/common/images/about-me.jpg"
			  mode="aspectFill"
		  />
		
		  <!-- æ ‡é¢˜åŒº -->
		  <view class="title-wrap">
		    <text class="title">{{ t('about') }}</text>
		  </view>
		
		  <!-- å†…å®¹åŒº -->
		  <view class="page-box">
		    <!-- å¤´åƒ -->
		    <view class="avatar-box">
		      <YlAvatarVue class="avatar" src="/image/common/images/avatar2.jpg" size="220" mode="aspectFill" />
		    </view>
		
		    <!-- æ–‡æ¡ˆ -->
		    <view class="content">
		      <text>å¤§å®¶å¥½ï¼æˆ‘æ˜¯å¶ç²å­</text>
		      <text>æ¬¢è¿å…‰ä¸´æ¬¡å…ƒè£‚ç¼ä¸­çš„å°æ ˆ</text>
		      <text>è¿™é‡Œå †æ»¡åƒç´ æ³¡é¢ä¸é­”æ³•é˜µå¥¶èŒ¶</text>
		      <text>æˆ‘ä¼šç”¨å·¦æ‰‹çš„å‡½æ•°ç¼–ç»‡å¼‚ä¸–ç•Œæ”»ç•¥</text>
		      <text>ç”¨å³æ‰‹çš„ç”»ç¬”è®°å½•åŠ¨æ¼«æ˜Ÿè½¨çš„ç§˜è¯­</text>
		      <text>å½“æ•°æ®æ´ªæµæ·¹æ²¡é»„æ˜çš„æœåŠ¡å™¨æ—¶</text>
		      <text>è¯·æ”¶ä¸‹è¿™ä¸²æ²»æ„ˆä»£ç ï¼š</text>
		      <text>while(true){ console.log("è¦å¼€å¿ƒå“¦~") }</text>
		      <text>åœ¨æ¬¡å…ƒè£‚ç¼ä¸­æ¼‚æ³Šçš„æ¯ä¸ªçµé­‚</text>
		      <text>éƒ½æœ‰äºŒè¿›åˆ¶å†™ä¸å®Œçš„ä¼ è¯´</text>
		      <text>é­”æ³•å°‘å¥³çš„è£™æ‘†è—ç€æ­»å¾ªç¯</text>
		      <text>æœºç”²éª‘å£«çš„å‰‘é”‹é—ªçƒé€’å½’æ˜Ÿè¾°</text>
		      <text>------------------------------</text>
		      <text>å¿˜è¯äº†</text>
		    </view>
		
		    <!-- åˆ†å‰²çº¿ -->
		    <DividerLine />
		
		    <!-- ä¿¡æ¯å— -->
		    <TextList :title="t('aboutMe')" :items="aboutMe" />
		    <TextList :title="t('aboutBlog')" :items="aboutBlog" />
		  </view>
		</view>	
		</view>
	</FixedLayoutVue>
		

</template>

<script setup>
import { ref } from 'vue'
import TextList from '@/components/TextList/TextList.vue'
import DividerLine from '@/components/Hr/DividerLine.vue'
import YlAvatarVue from '@/components/Image/YlAvatar.vue'
import ImageWithFallback from '@/components/Image/ImageWithFallback.vue';
import { t } from '@/utils/i18n';
import FixedLayoutVue from '@/components/Layout/FixedLayout.vue';
import { onPageScroll } from '@dcloudio/uni-app'
	const scrollTop = ref(0)
	const windowHeight = ref(uni.getSystemInfoSync().windowHeight)
	const scrollHeight = ref(windowHeight.value + 1)
	
	
	onPageScroll((e) => {
		scrollTop.value = e.scrollTop
		
		uni.createSelectorQuery()
			.select('.home-warp')       
			.boundingClientRect(rect => {
				scrollHeight.value =  rect?.height - windowHeight.value
			})
			.exec();
	})

/* å›¾ç‰‡åŠ è½½å¤±è´¥å¤„ç† */
const imgErr = ref(false)
function onImgError() {
  imgErr.value = true
}

/* æ•°æ® */
const aboutMe = ref([
	'ä½ å¥½å‘€ï½æˆ‘æ˜¯å¶ç²å­ï¼Œä¸€ä¸ªå–œæ¬¢åœ¨è™šæ‹Ÿä¸ç°å®ä¹‹é—´åå¤æ¨ªè·³çš„äººã€‚',
	'æˆ‘å–œæ¬¢ï¼š',
	'ğŸ® æ‰“æ¸¸æˆï¼šä» RPG åˆ° FPSï¼Œåªè¦å¥½ç©å°±åœä¸ä¸‹æ¥',
	'ğŸ“º çœ‹ç•ªè¿½å‰§ï¼šçƒ­è¡€ã€æ²»æ„ˆã€ä¸­äºŒéƒ½å¯ä»¥ï¼Œæ³ªç‚¹å’Œç¬‘ç‚¹å¹¶å­˜',
	'ğŸŒŠ ç½‘ä¸Šå†²æµªï¼šè¿½æ–°æ¢—ã€é€›è®ºå›ã€ç¿»æŠ€æœ¯æ–‡ç« ï¼Œåƒä¸€æ¡åœä¸ä¸‹æ¥çš„é±¼',
	'',
	'å¦‚æœä½ ä¹Ÿå–œæ¬¢äºŒæ¬¡å…ƒã€æ¸¸æˆã€æŠ€æœ¯ï¼Œ',
	'é‚£å°±æ¥å’Œæˆ‘ä¸€èµ·åœ¨ç½‘ç»œçš„æ˜Ÿæµ·é‡Œå†’é™©å§ï½'
])
const aboutBlog = ref([
  'æœ¬ç½‘ç«™é‡‡ç”¨ Vue3 + TypeScript æ„å»ºå‰ç«¯æ¶æ„ï¼Œæ­é… Spring Boot å¼€å‘åç«¯æœåŠ¡ï¼Œè‡´åŠ›äºé•¿æœŸç»´æŠ¤ä¸æŒç»­è¿­ä»£æ›´æ–°ï¼Œä¿éšœåŠŸèƒ½ç¨³å®šæ€§ä¸ä½“éªŒä¼˜åŒ–ã€‚',
  'å·²å¼€å‘å¹¶é›†æˆå³æ—¶èŠå¤©ç³»ç»Ÿä¸ AI æ™ºèƒ½ä½“åŠŸèƒ½ï¼Œæ”¯æŒé€šè¿‡å¯¹è¯äº¤äº’è°ƒç”¨ç½‘é¡µç«¯éƒ¨åˆ†æœåŠ¡ï¼Œå®ç°æ›´ä¾¿æ·çš„åŠŸèƒ½æ“ä½œä¸æ™ºèƒ½äº¤äº’ä½“éªŒã€‚',
  'æœ¬ç½‘ç«™å‡ä¸ºè‡ªä¸»å­¦ä¹ ã€è®¾è®¡å¹¶å¼€å‘çš„æˆæœï¼Œè¦†ç›–ä»å‰æœŸæ¶æ„è®¾è®¡ã€æ•°æ®åº“æ¨¡å‹æ­å»ºï¼Œåˆ°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å®ç°çš„å®Œæ•´å¼€å‘æµç¨‹ï¼Œå…¨ç¨‹è‡ªä¸»æŠŠæ§æŠ€æœ¯ç»†èŠ‚ä¸åŠŸèƒ½è½åœ°ã€‚'
])
</script>

<style scoped>
/* é¡¶éƒ¨å¤§å›¾ */
.img{
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 42vh;
  z-index: -9;
}

/* æ ‡é¢˜ */
.title-wrap{
  display: flex;
  justify-content: center;
  align-items: center;
  height: 42vh;
}
.title{
  font-size: 56rpx;
  color: var(--ui-PINK, #ff5777);
  animation: titleScale 1s;
}

/* å†…å®¹åŒº */
.page-box{
  padding: 30rpx;
  background: #fff;
  min-height: 100vh;
  box-sizing: border-box;
}
.avatar-box{
  display: flex;
  text-align: center;
  justify-content: center;
  margin: 40rpx 0;
}
.avatar{
  transition: transform .5s;
}
.avatar:hover{
  transform: rotate(360deg);
}

.content{
  line-height: 2.4;
  font-size: 34rpx;
  text-align: center;
}
.content text{
  display: block;
}

/* ç®€å•åŠ¨ç”» */
@keyframes titleScale{
  0% { transform: scale(.8); opacity: .6; }
  100%{ transform: scale(1); opacity: 1; }
}
@keyframes swashIn{
  0% { transform: scale(0); opacity: 0; }
  90%{ transform: scale(.9); opacity: 1; }
  100%{ transform: scale(1); opacity: 1; }
}
.swashIn{
  animation: swashIn 1s both;
}
</style>